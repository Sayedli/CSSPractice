<!-- @Author: Hassan Ali 
        Exercise 2 - TCSS 460 -->

        <!DOCTYPE html>
        <html>
        
        <head>
            <title>Chapter 10</title>
            <link href='http://fonts.googleapis.com/css?family=Merriweather' rel='stylesheet' type='text/css'>
            <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
            <link rel="stylesheet" href="css/styles.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        </head>
        
        <body class="tiled">
            <header>
                <h1>Art Filters</h1>
            </header>
        
            <main>
                <div id="sliderBox">
                    <form>
                        <label>Opacity: </label>
                        <p><input type="range" id="sliderOpacity" min="0" max="100" value="100" class="sliders" /> <span id="numOpacity">100</span>%</p>
        
                        <p><label>Saturation: </label><input type="range" id="sliderSaturation" min="1" max="300" value="100" class="sliders" /> <span id="numSaturation">100</span>%</p>
        
                        <p><label>Brightness: </label><input type="range" id="sliderBrightness" min="0" max="300" value="100" class="sliders" /> <span id="numBrightness">100</span>%</p>
        
                        <p><label>Hue Rotate: </label><input type="range" id="sliderHue" min="0" max="360" value="0" class="sliders" /> <span id="numHue">0</span>deg</p>
        
                        <p><label>Grayscale: </label><input type="range" id="sliderGray" min="0" max="100" value="0" class="sliders" /> <span id="numGray">0</span>%</p>
        
                        <p><label>Blur: </label><input type="range" id="sliderBlur" min="0" max="10" value="0" class="sliders" /> <span id="numBlur">0</span>px</p>
                    </form>
        
                    <p><button id="resetFilters">Reset</button> </p>
                </div>
        
                <figure id="imgManipulated">
                    <img src="images/medium/painting1.jpg">
                    <figcaption>
                        <em>Still Life with Flowers in a Glass Vase</em> <br> Jan Davidsz. de Heem, 1650 - 1683
                    </figcaption>
                </figure>
        
                <div id="thumbBox">
                    <div><img src="images/small/painting1.jpg" alt="Jan Davidsz. de Heem, 1650 - 1683" title="Still Life with Flowers in a Glass Vase" /></div>
                    <div><img src="images/small/painting2.jpg" alt="Jan Adam Kruseman, 1833" title="Portrait of Alida Christina Assink" /></div>
                    <div><img src="images/small/painting3.jpg" alt="Vincent van Gogh, 1887" title="Self-portrait" /></div>
                    <div><img src="images/small/painting4.jpg" alt="Anthony van Dyck, 1641" title="William II, Prince of Orange, and his Bride, Mary Stuart" /></div>
                    <div><img src="images/small/painting5.jpg" alt="Johannes Vermeer, c. 1660" title="Milkmaid" /></div>
                </div>
            </main>
        
            <script>
                var currentFilter = {};
        
                $(document).ready(function () {
                    $('#thumbBox img').click(function () {
                        $('#imgManipulated img').attr('src', $(this).attr('src').replace("small", "medium"));
                        $('#imgManipulated figcaption').html('<em>' + $(this).attr("title") + "</em><br>" + $(this).attr("alt"));
                        currentFilter = {};
                    });
        
                    $('#resetFilters').click(function () {
                        currentFilter = {};
                        $('#sliderOpacity').val(100);
                        $('#sliderSaturation').val(100);
                        $('#sliderBrightness').val(100);
                        $('#sliderHue').val(0);
                        $('#sliderGray').val(0);
                        $('#sliderBlur').val(0);
                        $('#numOpacity').text(100);
                        $('#numSaturation').text(100);
                        $('#numBrightness').text(100);
                        $('#numHue').text(0);
                        $('#numGray').text(0);
                        $('#numBlur').text(0);
                        applyFilter();
                    });
        
                    function applyFilter() {
                        var s = '';
                        if ('opacity' in currentFilter) {
                            s += ' opacity(' + currentFilter['opacity'] + '%)';
                        }
                        if ('saturate' in currentFilter) {
                            s += ' saturate(' + currentFilter['saturate'] + '%)';
                        }
                        if ('brightness' in currentFilter) {
                            s += ' brightness(' + currentFilter['brightness'] + '%)';
                        }
                        if ('hue-rotate' in currentFilter) {
                            s += ' hue-rotate(' + currentFilter['hue-rotate'] + 'deg)';
                        }
                        if ('grayscale' in currentFilter) {
                            s += ' grayscale(' + currentFilter['grayscale'] + '%)';
                        }
                        if ('blur' in currentFilter) {
                            s += ' blur(' + currentFilter['blur'] + 'px)';
                        }
                        $("#imgManipulated img").css('filter', s).css('webkitFilter', s);
                    }
        
                    $('#sliderOpacity').on('change', function () {
                        currentFilter['opacity'] = $(this).val();
                        $('#numOpacity').text($(this).val());
                        applyFilter();
                    });
        
                    $('#sliderSaturation').on('change', function () {
                        currentFilter['saturate'] = $(this).val();
                        $('#numSaturation').text($(this).val());
                        applyFilter();
                    });
        
                    $('#sliderBrightness').on('change', function () {
                        currentFilter['brightness'] = $(this).val();
                        $('#numBrightness').text($(this).val());
                        applyFilter();
                    });
        
                    $('#sliderHue').on('change', function () {
                        currentFilter['hue-rotate'] = $(this).val();
                        $('#numHue').text($(this).val());
                        applyFilter();
                    });
        
                    $('#sliderGray').on('change', function () {
                        currentFilter['grayscale'] = $(this).val();
                        $('#numGray').text($(this).val());
                        applyFilter();
                    });
        
                    $('#sliderBlur').on('change', function () {
                        currentFilter['blur'] = $(this).val();
                        $('#numBlur').text($(this).val());
                        applyFilter();
                    });
                });
            </script>
        </body>
        
        </html>
        